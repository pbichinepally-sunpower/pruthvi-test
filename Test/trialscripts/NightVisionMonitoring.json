{"title":"NightVision Monitoring (PROD) - k8s/RDS","description":"","widgets":[{"id":5,"layout":{"x":84,"y":32,"width":20,"height":17},"definition":{"title":"Containers States","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.container.ready{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}, sum:kubernetes_state.container.running{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}, sum:kubernetes_state.container.terminated{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}, sum:kubernetes_state.container.waiting{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":9,"layout":{"x":21,"y":32,"width":20,"height":17},"definition":{"title":"CPU Usage by Container","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.cpu.usage.total{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {kube_container_name,container_id}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":12,"layout":{"x":42,"y":14,"width":20,"height":17},"definition":{"title":"Network Rate by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}, sum:kubernetes.network.tx_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":13,"layout":{"x":63,"y":14,"width":20,"height":17},"definition":{"title":"Network Errors by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_errors{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}, sum:kubernetes.network.tx_errors{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":19,"layout":{"x":84,"y":14,"width":20,"height":17},"definition":{"title":"Pods Running","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.pods.running{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":20,"layout":{"x":21,"y":14,"width":20,"height":17},"definition":{"title":"CPU Usage by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.cpu.usage.total{kube_namespace:nightvision-prod,cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {pod_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":7408678060628030,"layout":{"x":0,"y":7,"width":41,"height":6},"definition":{"type":"note","content":"Saturation(Utilization)","background_color":"purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":7819183656623162,"layout":{"x":42,"y":7,"width":20,"height":6},"definition":{"type":"note","content":"Traffic (ThroughPut)","background_color":"purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":2797631957747216,"layout":{"x":63,"y":7,"width":20,"height":6},"definition":{"type":"note","content":"Errors","background_color":"purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":6555633127478314,"layout":{"x":105,"y":14,"width":20,"height":17},"definition":{"title":"Pods Expired","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.pods.expired{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6545210753771060,"layout":{"x":105,"y":32,"width":20,"height":17},"definition":{"title":"Pods in Ready State","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.pod.ready{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":5630105846452408,"layout":{"x":84,"y":7,"width":41,"height":6},"definition":{"type":"note","content":"Uptime/State","background_color":"purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":479454850951036,"layout":{"x":0,"y":0,"width":83,"height":6},"definition":{"type":"note","content":" NightVision PODS","background_color":"purple","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":1292970741320084,"layout":{"x":84,"y":0,"width":41,"height":6},"definition":{"type":"note","content":"","background_color":"purple","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":2867424679001498,"layout":{"x":0,"y":70,"width":104,"height":6},"definition":{"type":"note","content":"NightVision NODES","background_color":"yellow","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":8894165661474440,"layout":{"x":42,"y":84,"width":20,"height":17},"definition":{"title":"CPU Requests","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.cpu.requests{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":1274033835573304,"layout":{"x":63,"y":84,"width":20,"height":17},"definition":{"title":"Memory Requests","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.memory.requests{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6412480052932662,"layout":{"x":0,"y":84,"width":20,"height":17},"definition":{"title":"Number of Pods per Node ","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"top(sum:kubernetes.pods.running{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}, 50, 'mean', 'desc')","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4776057411650756,"layout":{"x":42,"y":102,"width":20,"height":17},"definition":{"title":"Network in per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4814834135303510,"layout":{"x":63,"y":102,"width":20,"height":17},"definition":{"title":"Network out per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.network.tx_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":1509973219809568,"layout":{"x":42,"y":120,"width":20,"height":17},"definition":{"title":"Disk reads per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.io.read_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":265324447271640,"layout":{"x":63,"y":120,"width":20,"height":17},"definition":{"title":"Disk writes per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.io.write_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":8436934714755852,"layout":{"x":0,"y":102,"width":20,"height":17},"definition":{"title":"Number of containers per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.containers.running{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":8108986361322162,"layout":{"x":21,"y":84,"width":20,"height":17},"definition":{"title":"Pods in Ready State per Node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"top(sum:kubernetes_state.pod.ready{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,condition:true} by {host,pod_name}, 10, 'last', 'desc')","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6584929716892422,"layout":{"x":21,"y":102,"width":20,"height":17},"definition":{"title":"Nodes not ready","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:kubernetes_state.nodes.by_condition{status:true,cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,!condition:ready}","aggregator":"avg","conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"green_on_white","value":0}]}],"precision":0}},{"id":4431863073098606,"layout":{"x":84,"y":84,"width":20,"height":17},"definition":{"title":"Rx Packets Dropped per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.network.rx_dropped{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"},{"rum_query":{"index":"*","search":{"query":""},"group_by":[],"compute":{"facet":"count","aggregation":"count"}}}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4680028578422068,"layout":{"x":84,"y":102,"width":20,"height":17},"definition":{"title":"Tx Packets dropped per node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes.network.tx_dropped{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":8287779625936350,"layout":{"x":84,"y":120,"width":20,"height":17},"definition":{"title":"Endpoint Address Not Ready","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"q":"sum:kubernetes_state.endpoint.address_not_ready{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4305359086873026,"layout":{"x":0,"y":120,"width":20,"height":17},"definition":{"title":"---Nodes Status","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.node.status{status:true,cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,!condition:ready}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":1933043442207594,"layout":{"x":0,"y":77,"width":41,"height":6},"definition":{"type":"note","content":"Uptime","background_color":"yellow","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":18712134862872,"layout":{"x":42,"y":77,"width":41,"height":6},"definition":{"type":"note","content":"Traffic (ThroughPut)","background_color":"yellow","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":409835661589744,"layout":{"x":84,"y":77,"width":20,"height":6},"definition":{"type":"note","content":"Errors","background_color":"yellow","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":3070283476865418,"layout":{"x":105,"y":77,"width":62,"height":6},"definition":{"type":"note","content":"Saturation (Utilization)","background_color":"yellow","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":4444497552499540,"layout":{"x":105,"y":70,"width":62,"height":6},"definition":{"type":"note","content":"","background_color":"yellow","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":6470338007668154,"layout":{"x":126,"y":102,"width":20,"height":17},"definition":{"title":"CPU usage per Node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.cpu.usage.total{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":1994520073354558,"layout":{"x":147,"y":102,"width":20,"height":17},"definition":{"title":"Allocatable CPU ","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes_state.node.cpu_allocatable{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":1866306259834018,"layout":{"x":105,"y":120,"width":20,"height":17},"definition":{"title":"Memory Capacity Per Node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes_state.node.memory_capacity{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4675919660170026,"layout":{"x":105,"y":84,"width":20,"height":17},"definition":{"title":"Number of nodes","title_size":"16","title_align":"left","type":"query_value","requests":[{"q":"sum:kubernetes_state.node.count{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane}","aggregator":"avg","conditional_formats":[{"comparator":">","palette":"green_on_white","value":0}]}],"autoscale":false,"precision":0}},{"id":8069365583690056,"layout":{"x":147,"y":84,"width":20,"height":17},"definition":{"title":"CPU utilization per cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"100-avg:system.cpu.idle{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {cluster_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[{"value":"y = 100","display_type":"error dashed"}]}},{"id":2593843660801346,"layout":{"x":105,"y":102,"width":20,"height":17},"definition":{"title":"CPU Capacity Per Node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.node.cpu_capacity{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6497662833721388,"layout":{"x":126,"y":120,"width":20,"height":17},"definition":{"title":"Memory Usage per Node","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.memory.usage{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false},"markers":[{"label":"y = 100","value":"y = 100","display_type":"error dashed"},{"label":"y = 80","value":"y = 80","display_type":"warning dashed"}]}},{"id":2889310630850856,"layout":{"x":147,"y":138,"width":20,"height":17},"definition":{"title":"Container Log File System","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.kubelet.container.log_filesystem.used_bytes{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"},{"rum_query":{"index":"*","search":{"query":""},"group_by":[],"compute":{"facet":"count","aggregation":"count"}}}],"yaxis":{"include_zero":false},"markers":[{"value":"y = 100","display_type":"error dashed"}]}},{"id":7070515159484234,"layout":{"x":105,"y":138,"width":20,"height":17},"definition":{"title":"Memory utilization per cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.memory.usage_pct{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {pod_name}, avg:kubernetes.memory.usage_pct{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {pod_name}*100","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[{"value":"y = 100","display_type":"error dashed"}]}},{"id":6518825275829994,"layout":{"x":126,"y":138,"width":20,"height":17},"definition":{"title":"Filesystem utilization per cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.filesystem.usage_pct{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {cluster_name}, sum:kubernetes.filesystem.usage_pct{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {cluster_name}*100","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":3367891282082570,"layout":{"x":105,"y":156,"width":20,"height":18},"definition":{"title":"Kubelet Inodes Free","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.kubelet.volume.stats.inodes_free{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":7091435733821386,"layout":{"x":126,"y":156,"width":20,"height":18},"definition":{"title":"Kubelet Inodes Used","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.kubelet.volume.stats.inodes_used{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {cluster_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":732061618837898,"layout":{"x":147,"y":156,"width":20,"height":18},"definition":{"title":"Endpoint Available","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes_state.endpoint.address_available{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {cluster_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6944232588898950,"layout":{"x":126,"y":84,"width":20,"height":17},"definition":{"title":"Allocatable pods per node","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes_state.node.pods_allocatable{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {host}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":6969009587640720,"layout":{"x":147,"y":120,"width":20,"height":17},"definition":{"title":"Allocatable memory ","title_size":"16","title_align":"left","show_legend":true,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes_state.node.memory_allocatable{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane} by {host}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":2338394683176328,"layout":{"x":0,"y":179,"width":104,"height":6},"definition":{"type":"note","content":"AlertsRdsDbInstance\t ","background_color":"gray","font_size":"18","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"bottom"}},{"id":4322571784271116,"layout":{"x":0,"y":193,"width":20,"height":17},"definition":{"title":"Latency (s) ","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"max:aws.rds.read_latency{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"max:aws.rds.read_latency{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Read Latency (max)"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"},{"q":"max:aws.rds.write_latency{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"max:aws.rds.write_latency{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Write Latency (max)"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":4281590395688446,"layout":{"x":21,"y":193,"width":20,"height":17},"definition":{"title":"Read/Write IOPS","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.rds.write_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate(), avg:aws.rds.read_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate(), avg:aws.rds.write_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()+avg:aws.rds.read_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()","on_right_yaxis":false,"metadata":[{"expression":"avg:aws.rds.write_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()","alias_name":"Write IOPS"},{"expression":"avg:aws.rds.read_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()","alias_name":"Read IOPS"},{"expression":"avg:aws.rds.write_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()+avg:aws.rds.read_iops{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}.as_rate()","alias_name":"Total IOPS"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false},"markers":[]}},{"id":6048343304389516,"layout":{"x":63,"y":211,"width":20,"height":17},"definition":{"title":"Saturation - Instance (CPU)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"max:aws.rds.cpuutilization{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"max:aws.rds.cpuutilization{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"CPU Utilization"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0","max":"100"},"markers":[{"label":" CPU High 75 ","value":"y = 75","display_type":"error dashed"}]}},{"id":5494393077223894,"layout":{"x":84,"y":211,"width":20,"height":17},"definition":{"title":"Saturation - Disk","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"min:aws.rds.free_storage_space{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"min:aws.rds.free_storage_space{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Free Storage Space"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":5954617414026572,"layout":{"x":21,"y":211,"width":20,"height":17},"definition":{"title":"DB Connections","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"max:aws.rds.database_connections{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"max:aws.rds.database_connections{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"DB Connections"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":510110293735644,"layout":{"x":63,"y":193,"width":20,"height":17},"definition":{"title":"Saturation - Credit Balance","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.rds.cpucredit_balance{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"avg:aws.rds.cpucredit_balance{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Free Storage Space"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":3658547366612826,"layout":{"x":42,"y":193,"width":20,"height":17},"definition":{"title":"Saturation - Credit Usage","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"min:aws.rds.cpucredit_usage{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"min:aws.rds.cpucredit_usage{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Credit Usage"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":5007988674022968,"layout":{"x":42,"y":211,"width":20,"height":17},"definition":{"title":"Saturation - Surplus Credits Charged","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"min:aws.rds.cpusurplus_credits_charged{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"min:aws.rds.cpusurplus_credits_charged{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Credits Charged"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":5998405297157518,"layout":{"x":0,"y":186,"width":20,"height":6},"definition":{"type":"note","content":"Latency (Performance)","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":4169472993283572,"layout":{"x":21,"y":186,"width":20,"height":6},"definition":{"type":"note","content":"Traffic (Throughput)","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":5688812484479790,"layout":{"x":42,"y":186,"width":62,"height":6},"definition":{"type":"note","content":"Saturation (Utilization)","background_color":"gray","font_size":"14","text_align":"center","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":4501348698563756,"layout":{"x":84,"y":193,"width":20,"height":17},"definition":{"title":"Saturation - Surplus Credit Balance","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:aws.rds.cpusurplus_credit_balance{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","on_right_yaxis":false,"metadata":[{"expression":"avg:aws.rds.cpusurplus_credit_balance{edp-prod-account,dbinstanceidentifier:pa1y0x1i6d7smek}","alias_name":"Free Storage Space"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"min":"0"},"markers":[]}},{"id":1831947829341604,"layout":{"x":0,"y":14,"width":20,"height":17},"definition":{"title":"---Container Restarts by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"4","type":"timeseries","requests":[{"q":"sum:kubernetes_state.container.restarts{cluster_name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":4266101772236622,"layout":{"x":0,"y":32,"width":20,"height":17},"definition":{"title":"Memory Usage by Pod","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:kubernetes.memory.usage{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {pod_name}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":8569092989037090,"layout":{"x":0,"y":50,"width":20,"height":17},"definition":{"title":"Memory Usage by Container","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes.memory.usage{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod} by {kube_container_name,container_id}","on_right_yaxis":false,"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"},"markers":[]}},{"id":2112506544512540,"layout":{"x":21,"y":50,"width":20,"height":17},"definition":{"title":"Pods Status Phase","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"sum:kubernetes_state.pod.status_phase{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,pod_phase:failed}, sum:kubernetes_state.pod.status_phase{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,pod_phase:pending}, sum:kubernetes_state.pod.status_phase{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,pod_phase:running}, sum:kubernetes_state.pod.status_phase{eks:cluster-name:prod-nightvision-ekscluster-1mw1qp5lgg5yb-ekscontrolplane,kube_namespace:nightvision-prod,pod_phase:succeeded}","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"scale":"linear","label":"","include_zero":true,"min":"auto","max":"auto"}}}],"template_variables":[],"layout_type":"free","is_read_only":true,"notify_list":[],"id":"da3-7jk-w47"}